<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/math.css">
    <link rel="stylesheet" href="../code/nqueens/chessboard.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <!-- LaTeX macros-->
    \(\DeclareMathOperator*{\argmax}{arg\,max}\)
    \(\DeclareMathOperator*{\argmin}{arg\,min}\)

    <title>Orfeas | N-queens</title>
</head>
<body>
    <main>
        <nav class="sidebar">
            <div class="sidebar-links">
                <a class="internal" title="Landing page" href="../index.html">Home</a>
                <a class="internal" title="Biography, interests, resume" href="../about.html">About</a>
                <a class="internal" title="Contact information" href="../contact.html">Contact</a>
                <a class="internal" title="Don't get lost" href="../distract.html">Distract</a>
                <a class="internal" title="News, plans, important information" href="../plans.html">Plans</a>
            </div>
        </nav>

        <article class="post">
            <section>
                <h1 class="top-title">Solving N-Queens with Markov Chains</h1>
                <hr>
            </section>
            
            <section>
                <p style="font-style:italic"> This post is based on a report I wrote with Jean-Baptiste Michel and Gaiëtan Renault for the class Markov Chains and Applications at EPFL in 2022.</p>
		<h3>The 8-queens puzzle</h3>
                <p> How many configurations of 8 queens on a chessboard are there, such that none of the queens can attack each other? Can you find one? </p>
                <div id="chessboard"></div>
                <p style="text-align:center;font-style: italic;">Click anywhere!</p>
		<p>The classic <em>depth-first backtracking</em> algorithm for this puzzle goes like this. Consider one column at a time, and move a queen down the rows until she is in a safe position, and then move onto the next column. If no rows are free, then return to the previous column. Step through animation below to watch how it works on a smaller board.</p>
                <div id=DFBTbuttons>
                    <div class="DFBTbutton" onclick=DFBTreset()>↻</div>
                    <div class="DFBTbutton" onclick=DFBTstep()>→</div>
                </div>
                <div id="DFBT">
                    <div id="DFBTboard"></div>
                    <div id="DFBTsols">Solutions found: 0</div>
                </div>
		<p> The challenge for <em>you</em> is to implement this algorithm yourself. How many solutions are there for an 8 x 8 chessboard?</p>
		<!--Caught you looking! For the effort, it's 92.--!>

		    <h3>The n-queens puzzle</h3>
		    <p>What about \(n\) larger than eight? I'll set a minute on the clock and see how many solutions I can enumerate on my MacBook Air (11-inch, 2015) with this Zig program.</p>
		    <table>
		<tr>
		    <td>\(n\)</td>
		    <td>solutions</td>
		</tr>
		<tr>
		    <td>8</td>
		    <td>92</td>
		</tr>
		<tr>
		    <td>9</td>
		    <td>352</td>
		</tr>
		<tr>
		    <td>10</td>
		    <td>724</td>
		</tr>
		<tr>
		    <td>11</td>
		    <td>2680</td>
		</tr>
		<tr>
		    <td>12</td>
		    <td>14200</td>
		</tr>
		<tr>
		    <td>13</td>
		    <td>73712</td>
		</tr>
		<tr>
		    <td>14</td>
		    <td>365596</td>
		</tr>
	    </table>

	    <p>Already after \(n=14\) my computer can no longer return the number of solutions under a minute. The sequence is known up to \(n=27\) and can be viewed as <a class=external href="https://oeis.org/A000170">A000170</a> on the OEIS.</p>
	    <p>Although an exact solution count escapes us for large \(n\), it is possible to give an estimate for how many solutions there may be, using Monte Carlo simulations. The idea is that if you can randomly draw a zillion configurations and evaluate whether they are valid or not then you can get an estimate for the true number of solutions.</p>

	    <h3>The Metropolis algorithm</h3>

	    <p>Here the rough idea of how to g</p>

	    </section>


            <section>
                <h2>Sources</h2>
                <hr>
                <ul>
                    <li>[<a href="https://europepmc.org/backend/ptpmcrender.fcgi?accid=PMC2682695&blobtype=pdf" class="external">link</a>] Cheng Zhang & Jianpeng Ma. <i>Counting solutions for the N-queens and Latin-square problems by Monte Carlo simulations.</i></li>
                </ul>
                <p><i>09/04/2023</i></p>
            </section> 

            <p><i>WIP | Last edited 20/04/2023</i></p>
        </article>
    </main>
    <script src="../code/nqueens/chessboard.js"></script>
</body>
</html>
